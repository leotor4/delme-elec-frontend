<div class="header">
  <div class="row m-0">
    <div class="cabecalho text-box col-12 p-0 col-lg-8">
      <h1>Produto</h1>
      <p>
        Preencha os campos abaixo para identificar um produto e confirme os
        dados abaixo. Caso não encontre um produto. Atualize a base de
        cadastros.
      </p>
    </div>
    <div class="button-box col-12 col-lg-4 mb-4 mb-lg-0">
      <p class="att">
        <i class="pi pi-history"></i> ultima atualização:
        {{ returnUpdateTime() }}
      </p>
      <a href="ncs/import" class="text-decoration-none">
        <button pButton pRipple type="button" class="btn btn-dark">
          Atualizar Cadastros
          <i class="pi pi-download"></i>
        </button>
      </a>
    </div>
  </div>
</div>
<div class="input-box pt-2">
  <div class="row m-0">
    <div class="col-12 col-lg-4 my-auto pb-3 pb-lg-0">
      <div class="p-fluid autoComplete">
        <p-autoComplete
          [(ngModel)]="nonComplicanceService.autoCompleteValue"
          [suggestions]="results"
          (completeMethod)="getFilteredList($event)"
          class="p-autocomplete"
          [style]="{ width: '100%' }"
          [inputStyle]="{ width: '100%' }"
          placeholder="Busque por nome, descrição ou código SAP"
          field="name"
          (onSelect)="checkProduct($event)"
          (input)="uncheckProduct()"
        >
          <ng-template let-product pTemplate="item">
            <div class="autoComplete-item">
              <h4>{{ product.name }}</h4>
              <span>{{ product.code }}</span>
              <p>{{ product.description }}</p>
            </div>
          </ng-template>
        </p-autoComplete>
      </div>
    </div>
    <div class="col-lg-8 d-flex col-12 flex-column flex-lg-row">
      <div class="d-flex flex-column mr-lg-3 inputs-sm my-auto">
        <label for="amountNC">Quantidade de NC</label>
        <input
          [(ngModel)]="nonComplicanceService.nc.quant_nc"
          name="amountNC"
          type="text"
          pInputText
          placeholder="Digite"
          class="p-inputtext-sm input"
        />
      </div>
      <div class="d-flex flex-column inputs-sm my-auto">
        <label for="amountTotal">Quantidade Total</label>
        <input
          [(ngModel)]="nonComplicanceService.nc.quant_total"
          name="amountTotal"
          type="text"
          pInputText
          placeholder="Digite"
          class="p-inputtext-sm input"
        />
      </div>
      <div class="d-flex flex-column pl-lg-3 pt-3 pt-lg-0 mb-lg-0 mb-2">
        <p-radioButton
          name="ncType"
          label="Não conformidade real"
          value="val1"
          [(ngModel)]="nonComplicanceService.nc.radio_value"
        ></p-radioButton>
        <p-radioButton
          name="ncType"
          label="Não conformidade Potencial / Oportunidade de Melhoria"
          class="pt-2"
          value="val2"
          [(ngModel)]="nonComplicanceService.nc.radio_value"
        ></p-radioButton>
      </div>
    </div>
  </div>
</div>
<app-product-info></app-product-info>
