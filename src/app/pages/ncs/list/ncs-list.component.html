<p-toast key="myKey2"></p-toast>
<p class="title">Início</p>
<p class="subtitle">Visualize ou crie não conformidades</p>

<span class="p-input-icon-left">
    <i class="pi pi-search"></i>
    <input pInputText type="text" (input)="applyFilterGlobal($event, 'contains')" placeholder="Global Search" />
</span>
<span style="float:right">
  <p-button label="Nova Não Conformidade"  (click)="openNc()" icon="pi pi-check" styleClass="p-button-sm p-button-secondary" icon="pi pi-plus" iconPos="right" ></p-button>
</span>

<div style="margin-top: 10px;">
<p-table  #dt [globalFilterFields]="['numero','parceiro','emissor', 'estado']" [value]="listNcs" [columns]="cols" [paginator]="true" [rows]="rows" [(first)]="first" [totalRecords]="totalRecords" [showCurrentPageReport]="true" responsiveLayout="scroll"
currentPageReportTemplate="Exibindo de {first} a {last} de {totalRecords} registros" [rowsPerPageOptions]="[5,10,25,50]" [filterDelay]="0">

  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="numero">
        <div class="flex justify-content-between align-items-center">
            Número
            <p-sortIcon field="numero"></p-sortIcon>
            <p-columnFilter type="text" field="numero" display="menu" class="ml-auto"></p-columnFilter>
        </div>
      </th>
      <th pSortableColumn="parceiro">
          <div class="flex justify-content-between align-items-center">
              Parceiro
              <p-sortIcon field="parceiro"></p-sortIcon>
              <p-columnFilter type="text" field="parceiro" display="menu" class="ml-auto"></p-columnFilter>
          </div>
      </th>
      <th pSortableColumn="emissor">
        <div class="flex justify-content-between align-items-center">
            Emissor
            <p-sortIcon field="emissor"></p-sortIcon>
            <p-columnFilter type="text" field="emissor" display="menu" class="ml-auto"></p-columnFilter>
        </div>
      </th>
      <th pSortableColumn="estado">
          <div class="flex justify-content-between align-items-center">
              Estado
              <p-sortIcon field="estado"></p-sortIcon>
              <p-columnFilter type="text" field="estado" display="menu" class="ml-auto"></p-columnFilter>
          </div>
      </th>

      <th style="width: 1rem"></th>
      <th style="width: 1rem"></th>
      <th style="width: 1rem"></th>
      <th style="width: 1rem"></th>
  </tr>

</ng-template>
  <ng-template pTemplate="body" let-Nc>



    <tr class="p-selectable-row">
      <td>
          <span class="p-column-title">Número</span>
          {{Nc.numero}}
      </td>

      <td>
          <span class="p-column-title">Parceiro</span>
          {{Nc.parceiro}}
      </td>

      <td>
        <span class="p-column-title">Emissor</span>
        {{Nc.emissor}}
      </td>

      <td>
        <span class="p-column-title">Estado</span>
        {{Nc.estado}}
      </td>

      <td style="text-align: center">
          <a style="color: black;" type="button" routerLink="/ncs/about/{{Nc.id}}"><i class="bi bi-info-circle"></i></a>
      </td>

      <td style="text-align: center">
        <a type="button" (click)="edit(Nc.id, Nc.estado)"><i class="bi bi-file-richtext"></i></a>
      </td>

      <td style="text-align: center">
        <a type="button" (click)="delete(Nc.id)"><i class="bi bi-trash"></i></a>
      </td>

      <td style="text-align: center">
        <a type="button" (click)="archived(Nc.id)"><i class="bi bi-archive"></i></a>
      </td>

  </tr>

  </ng-template>
</p-table>
</div>